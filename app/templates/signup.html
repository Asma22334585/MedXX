<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MedX</title>
    <link rel="icon" href="{{ url_for('static', filename='images/asmaa.png') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='style2.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='form.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='alert.css')}}">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css" integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz" crossorigin="anonymous">
</head>
<body style="background-image: url('{{ url_for('static', filename='images/amin2.jpg') }}');">
    <header class="header">
        <nav class="nav">
            <img src="{{ url_for('static', filename='images/md.png') }}" alt="logo" height="100%" width="4%">
            <ul class="nav_items">
                <li class="nav_item">
                    <a href="{{ url_for('routes.home')}}" class="nav_link">Home</a>
                    <a href="#" class="nav_link">About</a>
                    <a href="#" class="nav_link">Doctors</a>
                    <a href="#" class="nav_link">Review</a>
                </li>
            </ul>
        </nav>
    </header>
    <div class="main-block">
        <div class="header_container">
        <h1>Registration</h1>
        {% with msg = get_flashed_messages(with_categories=True) %}
          {% if msg %}
          {% for category, message in msg %}
          <div class="alert"></div>
            <div class="{{ category }}">
            <span class="close">&times;</span>  
             {{ message }}
        </div>
            {% endfor %}
            {% endif %}
        {% endwith %}
        </div>
        <form action="{{ url_for('auth.register') }}" method="POST">
            <label id="icon" for="fullname"><i class="fas fa-user-circle"></i></label>
            <input type="text" name="fullname" placeholder="Fullname" required>
            <br>
            <label id="icon" for="username"><i class="fas fa-user"></i> </label>
            <input type="text" name="username" placeholder="Username" required>
            <br>
            <label id="icon" for="email"><i class="fas fa-envelope"></i> </label>
            <input type="email" id="name" name="email" placeholder="Email" required>
            <br>
            <label id="icon" for="password"><i class="fas fa-unlock-alt"></i></label>
            <input type="password" name="password" placeholder="Password" required>
            <br>
            <label id="icon" for="dob"><i class="fas fa-calendar-alt"></i></label>
            <input type="date" name="dob" required>
            <br>
            <label id="icon" for="gender"><i class="fas fa-user"></i></label>
            <select name="gender">
                <option selected disabled>Gender</option>
                <option value="male">Male</option>
                <option value="female">Female</optioon>
            </select>
            <br>
            <label id="icon" for="blood_group"><i class="fas fa-plus"></i></label>
            <input type="text" name="blood_group" placeholder="Blood Group">
            <br>
            <label id="icon" for="genotype"><i class="fas fa-dna"></i></label>
            <input type="text" name="genotype" placeholder="Genotype">
            <br>
            <label id="icon" for="weight"><i class="fas fa-weight"></i></label>
            <input type="number" name="weight" placeholder="Weight">
            <br>
            <label id="icon" for="location"><i class="fas fa-map-marker-alt"></i></label>
            <select name="location" placeholder="Location">
                <option selected disabled>Location</option>
                <option value="Egypt"> Egypt</option>
                <option value="Kenya">Kenya</option>
                <option value="Ethopia">Ethopia</option>
                <option value="Nigeria">Nigeria</option>
                <option value="Tunisia">Tunisia</option>
                <option value="South Africa">South Africa</option>
            </select>
            <br>
            <label id="icon" for="allergies"><i class="fas fa-disease"></i></label>
            <input type="text" name="allergies" placeholder="Allergies">
            <br>
            <label for="is_doctor">Register as Doctor:</label>
            <input type="checkbox" name="is_doctor">
            <br>
            <div id="doctor-fields" style="display: none;">
                <label id="icon" for="specialty"><i class="fas fa-stethoscope"></i></label>
                <input type="text" name="specialty" placeholder="Specialty">
                <br>
                <label id="icon" for="bio"><i class="fas fa-hospital"></i></label>
                <textarea name="bio" placeholder="Bio"></textarea>
                <br>
            </div>
            <button type="submit">Register</button>
        </form>
    </div>
    <!--<script src="{{ url_for('static', filename='alert.js' )}}"></script>-->
    <script>
        document.querySelector('input[name="is_doctor"]').addEventListener('change', function() {
            document.getElementById('doctor-fields').style.display = this.checked ? 'block' : 'none';
        });
        var close = document.getElementsByClassName("close");
        var i;
        for (i = 0; i < close.length; i++) {
            close[i].onclick = function(){
                var div = this.parentElement;
                div.style.opacity = "0";
                setTimeout(function(){ div.style.display = "none"; }, 600);
  }
}
    </script>
    
    
</body>
</html>
